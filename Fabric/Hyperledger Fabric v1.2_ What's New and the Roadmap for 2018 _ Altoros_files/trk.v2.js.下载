function ORBTRScript(e,t,r){this.script=!1,this.src=e,this.hook=t,this.async=r}function ORBTREvent(e,t){this.vars=e||{},this.action=t,this.requestString="",this.attachCampaignData()}function ORBTRTracker(){this.account=orbtr_account}var orbtrTracker=!1;ORBTRScript.prototype.clear=function(){this.script.parentNode.removeChild(this.script)},ORBTRScript.prototype.load=function(){var e=this,t=null;this.script=document.createElement("script"),this.script.type="text/javascript",this.script.src=this.src,this.script.async=this.async,this.hook&&("undefined"!=typeof this.script.onreadystatechange?this.script.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&setTimeout(e.hook,400)}:this.script.onload=function(){setTimeout(e.hook,400)}),t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(this.script,t)},ORBTREvent.prototype.addProperty=function(e,t){this.vars[e]=t},ORBTREvent.prototype.getURLVars=function(){var e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,r,o){e[r]=o}),e},ORBTREvent.prototype.attachCampaignData=function(){for(var e=this.getURLVars(),t=["source","medium","content","campaign","term"],r=["oemail","fName","lName","ocompany","osource","ojob","ophone","omobile","oaddress1","oaddress2","ocity","ostate","ozip","ocountry","owebsite","olinkedin","otwitter","ofacebook","obirthday","orep"],o="",n="",i=0;i<t.length;i++)o=t[i],n=e["utm_"+o],"undefined"!=typeof n&&(this.vars["campaign_"+("campaign"==o?"name":o)]=n);for(var a=0;a<r.length;a++)o=r[a],n=e[o],"undefined"!=typeof n&&("oemail"==o&&n.length>6?this.vars[o]=n:"oemail"!=o&&(this.vars[o]=n))},ORBTREvent.prototype.serialize=function(e,t){if(!(this.requestString.length>4e3)&&"undefined"!=typeof e&&"function"!=typeof e){if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return void(this.requestString+="&"+encodeURIComponent(t)+"="+encodeURIComponent(e));if(e instanceof Array)for(var r=0;r<e.length;r++)this.serialize(e[r],t+"["+r+"]");else for(var o in e)e.hasOwnProperty&&e.hasOwnProperty(o)&&this.serialize(e[o],t+"."+o)}},ORBTREvent.prototype.fire=function(){var e=orbtrTracker,t=e.getRequestData()||{};this.requestString="";for(var r in t)t.hasOwnProperty&&t.hasOwnProperty(r)&&this.serialize(t[r],r);for(var r in this.vars)this.vars.hasOwnProperty&&this.vars.hasOwnProperty(r)&&this.serialize(this.vars[r],r);new ORBTRScript(e.getEP(this.action)+"&r="+e.uid()+this.requestString+"&aid="+e.account,function(){},"async").load()},ORBTRTracker.prototype.createCookie=function(e,t,r){var o,n;r?(o=new Date,o.setTime(o.getTime()+24*r*60*60*1e3),f=24*r*60*60,n="; expires="+o.toGMTString()+"; max-age="+f):n="",domain="","undefined"!=typeof orbtr_domain&&(domain="; domain="+orbtr_domain),document.cookie=e+"="+t+n+domain+"; path=/"},ORBTRTracker.prototype.readCookie=function(e){var t=""+document.cookie,r=t.indexOf(e);if(-1==r||""==e)return"";var o=t.indexOf(";",r);return-1==o&&(o=t.length),unescape(t.substring(r+e.length+1,o))},ORBTRTracker.prototype.uid=function(){var e=new Date;return e.getTime()},ORBTRTracker.prototype.getEP=function(e){return window.location.protocol+"//api.orbtr.net/v2/trk.v2.php?action="+e},ORBTRTracker.prototype.init=function(){var e=this.readCookie("orbtr_uid"),t=this.readCookie("orbtr_session");t||(t=this.uid(),this.createCookie("orbtr_session",t,0)),e&&e.length>0?(this.createTrackingCookie(e),this.trackView(e)):this.newUser()},ORBTRTracker.prototype.getRequestData=function(){var e={};return e.screen=screen.width+"x"+screen.height,e.language=navigator.browserLanguage||navigator.language||"",e.referer=document.referrer,e.path=document.location.pathname,e.location=document.location.href,e.ua=window.navigator.userAgent,e.ospc=window.navigator.oscpu,e.title=0==document.getElementsByTagName("title").length?"":document.getElementsByTagName("title")[0].innerHTML,e},ORBTRTracker.prototype.trackView=function(e){var t=new ORBTREvent({uid:e,sid:this.readCookie("orbtr_session")},"pageview");t.fire()},ORBTRTracker.prototype.newUser=function(){var e=new ORBTREvent({sid:this.readCookie("orbtr_session")},"new");e.fire()},ORBTRTracker.prototype.winLoaded=function(e,t){var r=!1,o=!0,n=e.document,i=n.documentElement,a=n.addEventListener?"addEventListener":"attachEvent",s=n.addEventListener?"removeEventListener":"detachEvent",c=n.addEventListener?"":"on",p=function(o){("readystatechange"!=o.type||"complete"==n.readyState)&&(("load"==o.type?e:n)[s](c+o.type,p,!1),!r&&(r=!0)&&t.call(e,o.type||o))},d=function(){try{i.doScroll("left")}catch(e){return void setTimeout(d,50)}p("poll")};if("complete"==n.readyState)t.call(e,"lazy");else{if(n.createEventObject&&i.doScroll){try{o=!e.frameElement}catch(h){}o&&d()}n[a](c+"DOMContentLoaded",p,!1),n[a](c+"readystatechange",p,!1),e[a](c+"load",p,!1)}},ORBTRTracker.prototype.createTrackingCookie=function(e){this.createCookie("orbtr_uid",e,60)},ORBTRTracker.prototype.processForms=function(){for(var e=document.getElementsByTagName("form"),t=0;t<e.length;t++)e[t].onsubmit=function(){for(var e="",t="",o="",i="",a=this.getElementsByTagName("input"),s=0;s<a.length;s++){var c=a[s].getAttribute("name");c&&(c.toLowerCase(),c.indexOf("email")>-1?e=a[s].value:c.indexOf("fname")>-1||c.indexOf("first")>-1?t=a[s].value:c.indexOf("lname")>-1||c.indexOf("last")>-1?o=a[s].value:c.indexOf("company")>-1&&(i=a[s].value))}return e.length>6?(orbtrForm=this,n=document.createElement("script"),n.type="text/javascript",n.async=!0,n.src=("https:"==document.location.protocol?"https://":"http://")+"api.orbtr.net/v2/trk.v2.php?action=new&oemail="+e+"&fName="+t+"&lName="+o+"&ocompany="+i+"&ref=1&aid="+orbtr_account,r=document.getElementsByTagName("script")[0],r.parentNode.insertBefore(n,r),!1):!0}},orbtrTracker=new ORBTRTracker,orbtrTracker.init(),orbtrTracker.winLoaded(window,function(){"undefined"!=typeof orbtrSetProcessForms&&1==orbtrSetProcessForms&&orbtrTracker.processForms()});